# [객체지향] 객체 지향 SOLID - OCP

작성일시: 2023년 9월 11일 오전 12:06
종류: SOLID, 객체지향개념
복습: No

## 개방 폐쇄 원칙 - OCP(Open Closed Principle)

📌기존의 코드를 변경하지 않고, 새로운 기능을 추가할 수 있는 설계

📌 확장에는 개방적, 수정에는 폐쇄적(유지보수 비용의 증가떄문)

📌 기능 추가 요청이 오면 확장을 통해 손쉽게 구현, 확장에 따른 클래스 수정은 최소화

📌 **`추상화`**의 의미를 생각하면 된다.

📌 OCP는 다형성과 확장을 가능케 하는 객체지향의 장점을 극대화하는 설계 원칙으로써, 객체를 추상화함으로써 확장엔 열려있고 변경엔 닫혀있는 유연한 구조를 만든다.

## OCP대로 추상화 설계를 할 때 규칙

1. 먼저 변경(확장)될 것과 변하지 않을 것을 엄격히 구분한다.
2. 이 두 모듈이 만나는 지점에 추상화를 정의한다.
3. 구현체에 의존하기보다 정의한 추상화에 의존하도록 코드를 작성한다.

## OCP 원칙을 따른 JDBC

OCP원칙의 가장 잘 따르는 예시가 바로 자바의 데이터베이스 인터페이스인 JDBC이다.

자바 애플리케이션에서 사용하고 있는 DB를 MYSQL에서 ORACLE로 바꾸고 싶다면 복잡한 하드 코딩 없이 CONNECTION 객체 부분만 교체해주면 된다.

📌 자바 애플리케이션은 DB라고 하는 주변의 변화에 닫혀있다. 반대로 데이터베이스를 손쉽게 교체한다는 것은 DB가 자신의 확장에는 열려있다는 말이 된다.

## OCP 원칙 적용 주의점

확장에는 열려있고 변경에는 닫히게 하기 위해서는 추상화를 잘 설계할 필요성이 있는데, 추상화를 정의할 때 여러 경우의 수에 대한 고려와 예측이 필요하다.

적당한 추상화 레벨을 선택함으로써, 어떠한 행위에 대한 본질적인 정의를 서브 클래스에 전파함으로써 관계를 성립하게 된다.

상속 구조를 처음부터 요상하게 구성하면 LSP(리스코프 치환 원칙)과 ISP(인터페이스 분리 원칙)위반으로 이어지게 된다.